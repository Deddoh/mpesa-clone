<div class="session mat-indigo">
    <div class="session-content">
      <div class="session-wrapper">
<mat-card fxLayout="column" fxLayoutAlign="center center">
    <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)">
      <div class="text-center pb-1">
        <img src="assets/images/mpesaLogo.png" width="150" height="140" alt="" />
        <h3 class="mat-text-muted">Mpesa Quikk Pay</h3>
        <h4 class="mat-text-muted">Sign In</h4>
      </div>
      <hr />
      <ng-container *ngIf="errorMessage">
        <div class="mb-lg-15 alert alert-danger">
          <div class="alert-text">
            {{errorMessage}}
          </div>
        </div>
      </ng-container>
      <div fxLayout="column" fxLayoutAlign="space-around">
      
        <div class="form-group">
          <label for="">Email/Username</label>
          <input class="form-control" type="email" name="username" autocomplete="off" formControlName="email" />
          <small *ngIf="form.controls['email'].hasError('required') && form.controls['email'].touched"
            class="mat-text-warn">Email
            is required.</small>
            <small *ngIf="form.controls['email'].hasError('pattern') && form.controls['email'].touched"
            class="mat-text-warn">Invalid email format.</small>
        </div>
        <div class="form-group">
          <label for="">Password</label>
          <div class="input-group">
          <input class="form-control form-control-lg form-control-solid" [type]="fieldTextType ? 'text' : 'password'"  type="password" name="password"
            autocomplete="off" formControlName="password" />
            <div class="input-group-append">
              <span class="input-group-text">
                <i  class="fa p-2  fa-eye-slash" [ngClass]="{
                      'fa-eye-slash': !fieldTextType,
                      'fa-eye': fieldTextType
                    }" (click)="toggleFieldTextType()"></i>
              </span>
            </div>
            </div>
          <small *ngIf="form.controls['password'].hasError('required') && form.controls['password'].touched"
            class="mat-text-warn">Password is required.</small>
        </div>
        <!-- <div class="pb-1">
              <mat-checkbox>Stay logged in</mat-checkbox>
            </div> -->
        <!-- <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">Login</button> -->
      </div>
      <div class="">
        <br>
        <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
        <!-- <mat-spinner color="accent" [diameter]="20"></mat-spinner> -->
        <button type="submit" 
          class="btn btn-lg btn-block btn-login btn-primary login">
          <div> Login</div></button>
      </div>
      <div class="pt-1 pb-1 text-xs-center">
        <!-- <a [routerLink]="['/session/forgot']">Forgot password?</a>&nbsp;&nbsp;&nbsp;&nbsp; -->
        <!-- <a [routerLink]="['/session/signup']">Sign up for a new account.</a> -->
      </div>
    </form>
  </mat-card>
</div>
</div>
</div>